<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>nlpboost package &mdash; nlpboost  documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/sphinx_highlight.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="nlpboost.augmentation package" href="nlpboost.augmentation.html" />
    <link rel="prev" title="nlpboost" href="modules.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html" class="icon icon-home"> nlpboost
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="readme.html">NLPBOOST: A library for automatic training and comparison of Transformer models</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples.html">Example scripts of how to use nlpboost for each task</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="modules.html">nlpboost</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">nlpboost package</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#subpackages">Subpackages</a><ul>
<li class="toctree-l4"><a class="reference internal" href="nlpboost.augmentation.html">nlpboost.augmentation package</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#submodules">Submodules</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-nlpboost.autotrainer">nlpboost.autotrainer module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#nlpboost.autotrainer.AutoTrainer"><code class="docutils literal notranslate"><span class="pre">AutoTrainer</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-nlpboost.ckpt_cleaner">nlpboost.ckpt_cleaner module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#nlpboost.ckpt_cleaner.CkptCleaner"><code class="docutils literal notranslate"><span class="pre">CkptCleaner</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-nlpboost.dataset_config">nlpboost.dataset_config module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#nlpboost.dataset_config.DatasetConfig"><code class="docutils literal notranslate"><span class="pre">DatasetConfig</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-nlpboost.default_param_spaces">nlpboost.default_param_spaces module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#nlpboost.default_param_spaces.hp_space_base"><code class="docutils literal notranslate"><span class="pre">hp_space_base()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#nlpboost.default_param_spaces.hp_space_large"><code class="docutils literal notranslate"><span class="pre">hp_space_large()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-nlpboost.hfdatasets_manager">nlpboost.hfdatasets_manager module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#nlpboost.hfdatasets_manager.HFDatasetsManager"><code class="docutils literal notranslate"><span class="pre">HFDatasetsManager</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-nlpboost.hftransformers_manager">nlpboost.hftransformers_manager module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#nlpboost.hftransformers_manager.HFTransformersManager"><code class="docutils literal notranslate"><span class="pre">HFTransformersManager</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#nlpboost.hftransformers_manager.MultilabelTrainer"><code class="docutils literal notranslate"><span class="pre">MultilabelTrainer</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-nlpboost.metrics">nlpboost.metrics module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#nlpboost.metrics.compute_metrics_classification"><code class="docutils literal notranslate"><span class="pre">compute_metrics_classification()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#nlpboost.metrics.compute_metrics_multilabel"><code class="docutils literal notranslate"><span class="pre">compute_metrics_multilabel()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#nlpboost.metrics.compute_metrics_ner"><code class="docutils literal notranslate"><span class="pre">compute_metrics_ner()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#nlpboost.metrics.compute_metrics_summarization"><code class="docutils literal notranslate"><span class="pre">compute_metrics_summarization()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-nlpboost.metrics_plotter">nlpboost.metrics_plotter module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#nlpboost.metrics_plotter.ResultsPlotter"><code class="docutils literal notranslate"><span class="pre">ResultsPlotter</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-nlpboost.model_config">nlpboost.model_config module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#nlpboost.model_config.ModelConfig"><code class="docutils literal notranslate"><span class="pre">ModelConfig</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-nlpboost.results_getter">nlpboost.results_getter module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#nlpboost.results_getter.ResultsGetter"><code class="docutils literal notranslate"><span class="pre">ResultsGetter</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-nlpboost.tokenization_functions">nlpboost.tokenization_functions module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#nlpboost.tokenization_functions.tokenize_classification"><code class="docutils literal notranslate"><span class="pre">tokenize_classification()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#nlpboost.tokenization_functions.tokenize_ner"><code class="docutils literal notranslate"><span class="pre">tokenize_ner()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#nlpboost.tokenization_functions.tokenize_squad"><code class="docutils literal notranslate"><span class="pre">tokenize_squad()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#nlpboost.tokenization_functions.tokenize_summarization"><code class="docutils literal notranslate"><span class="pre">tokenize_summarization()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-nlpboost.utils">nlpboost.utils module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#nlpboost.utils.chunks"><code class="docutils literal notranslate"><span class="pre">chunks()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#nlpboost.utils.dict_to_list"><code class="docutils literal notranslate"><span class="pre">dict_to_list()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#nlpboost.utils.filter_empty"><code class="docutils literal notranslate"><span class="pre">filter_empty()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#nlpboost.utils.get_tags"><code class="docutils literal notranslate"><span class="pre">get_tags()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#nlpboost.utils.get_windowed_match_context_answer"><code class="docutils literal notranslate"><span class="pre">get_windowed_match_context_answer()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#nlpboost.utils.joinpaths"><code class="docutils literal notranslate"><span class="pre">joinpaths()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#nlpboost.utils.match_questions_multiple_answers"><code class="docutils literal notranslate"><span class="pre">match_questions_multiple_answers()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-nlpboost">Module contents</a></li>
</ul>
</li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">nlpboost</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a></li>
          <li class="breadcrumb-item"><a href="modules.html">nlpboost</a></li>
      <li class="breadcrumb-item active">nlpboost package</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/nlpboost.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="nlpboost-package">
<h1>nlpboost package<a class="headerlink" href="#nlpboost-package" title="Permalink to this heading"></a></h1>
<section id="subpackages">
<h2>Subpackages<a class="headerlink" href="#subpackages" title="Permalink to this heading"></a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="nlpboost.augmentation.html">nlpboost.augmentation package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="nlpboost.augmentation.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="nlpboost.augmentation.html#module-nlpboost.augmentation.TextAugmenterPipeline">nlpboost.augmentation.TextAugmenterPipeline module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="nlpboost.augmentation.html#nlpboost.augmentation.TextAugmenterPipeline.NLPAugPipeline"><code class="docutils literal notranslate"><span class="pre">NLPAugPipeline</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="nlpboost.augmentation.html#nlpboost.augmentation.TextAugmenterPipeline.NLPAugPipeline.augment"><code class="docutils literal notranslate"><span class="pre">NLPAugPipeline.augment()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="nlpboost.augmentation.html#module-nlpboost.augmentation.augmenter_config">nlpboost.augmentation.augmenter_config module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="nlpboost.augmentation.html#nlpboost.augmentation.augmenter_config.NLPAugConfig"><code class="docutils literal notranslate"><span class="pre">NLPAugConfig</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="nlpboost.augmentation.html#nlpboost.augmentation.augmenter_config.NLPAugConfig.aug_kwargs"><code class="docutils literal notranslate"><span class="pre">NLPAugConfig.aug_kwargs</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="nlpboost.augmentation.html#nlpboost.augmentation.augmenter_config.NLPAugConfig.augmenter_cls"><code class="docutils literal notranslate"><span class="pre">NLPAugConfig.augmenter_cls</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="nlpboost.augmentation.html#nlpboost.augmentation.augmenter_config.NLPAugConfig.name"><code class="docutils literal notranslate"><span class="pre">NLPAugConfig.name</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="nlpboost.augmentation.html#nlpboost.augmentation.augmenter_config.NLPAugConfig.proportion"><code class="docutils literal notranslate"><span class="pre">NLPAugConfig.proportion</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="nlpboost.augmentation.html#module-nlpboost.augmentation">Module contents</a></li>
</ul>
</li>
</ul>
</div>
</section>
<section id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this heading"></a></h2>
</section>
<section id="module-nlpboost.autotrainer">
<span id="nlpboost-autotrainer-module"></span><h2>nlpboost.autotrainer module<a class="headerlink" href="#module-nlpboost.autotrainer" title="Permalink to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="nlpboost.autotrainer.AutoTrainer">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">nlpboost.autotrainer.</span></span><span class="sig-name descname"><span class="pre">AutoTrainer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model_configs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dataset_configs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metrics_dir</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'tmp_experiments_metrics'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hp_search_mode</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'optuna'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">clean</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metrics_cleaner</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'tmp_metrics_cleaner'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_auth_token</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/nlpboost/autotrainer.html#AutoTrainer"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nlpboost.autotrainer.AutoTrainer" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Main class of nlpboost. Fine-tune and evaluate several models on several datasets.</p>
<p>Useful for performing benchmarking of different models on the same datasets,
keeping track of each experiment with mlflow.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>model_configs</strong> (<em>list</em>) – Configurations for the models, instances of ModelConfig, each describing their
names in the hub or local directory, the name to save the model, the dropout
values to use, and a long etc.</p></li>
<li><p><strong>dataset_configs</strong> (<em>list</em>) – Configurations for the datasets, instances of DatasetConfig, each describing
how each dataset should be processed.</p></li>
<li><p><strong>metrics_dir</strong> (<em>str</em>) – Directory to save the metrics for the experiments, as returned by <cite>nlpboost.ResultsGetter</cite>.</p></li>
<li><p><strong>hp_search_mode</strong> (<em>str</em>) – Mode for hyperparameter search; possibilities are <cite>optuna</cite> or <cite>fixed</cite>. If <cite>fixed</cite>,
no hyperparameter tuning is carried out.</p></li>
<li><p><strong>clean</strong> (<em>bool</em>) – Whether to clean checkpoints every 10 minutes to avoid using too much disk, by
using nlpboost.CkptCleaner. Best model checkpoint is also saved when unuseful
checkpoints are deleted.</p></li>
<li><p><strong>metrics_cleaner</strong> (<em>str</em>) – Path to the folder where the metrics of the checkpoint cleaner should be stored.
These metrics are used to decide which checkpoints should be removed. Note: if the
experiment fails for some reason, and you re-launch it, please remove this folder
before doing so. Otherwise there will probably be an error, as the checkpoint cleaner
will use metrics from past experiments, not the running one, so there will be incorrect
checkpoint removals.</p></li>
<li><p><strong>use_auth_token</strong> (<em>bool</em>) – Whether to use auth token to load datasets and models.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="nlpboost.autotrainer.AutoTrainer.optuna_hp_search">
<span class="sig-name descname"><span class="pre">optuna_hp_search</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/nlpboost/autotrainer.html#AutoTrainer.optuna_hp_search"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nlpboost.autotrainer.AutoTrainer.optuna_hp_search" title="Permalink to this definition"></a></dt>
<dd><p>Carry out hyperparameter search with Optuna.</p>
<p>By using the model_configs and dataset_configs passed in __call__. Iterate over
each dataset, and then over each model, by doing hyperparameter tuning.
It also saves the metrics over the test dataset in the metrics_dir specified in __call__
for each of those models, for later comparison.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>all_results</strong> – Dictionary with results from the experiments.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>Dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="nlpboost.autotrainer.AutoTrainer.train_one_model_fixed_params">
<span class="sig-name descname"><span class="pre">train_one_model_fixed_params</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model_config</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dataset_config</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">compute_metrics_func</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">test_dataset</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/nlpboost/autotrainer.html#AutoTrainer.train_one_model_fixed_params"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nlpboost.autotrainer.AutoTrainer.train_one_model_fixed_params" title="Permalink to this definition"></a></dt>
<dd><p>Train one model with fixed params in one dataset, without tuning parameters.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>model_config</strong> (<a class="reference internal" href="#nlpboost.model_config.ModelConfig" title="nlpboost.model_config.ModelConfig"><em>ModelConfig</em></a>) – Configuration for the model.</p></li>
<li><p><strong>dataset_config</strong> (<a class="reference internal" href="#nlpboost.dataset_config.DatasetConfig" title="nlpboost.dataset_config.DatasetConfig"><em>DatasetConfig</em></a><em>,</em>) – Configuration for the dataset.</p></li>
<li><p><strong>compute_metrics_func</strong> – Function to compute metrics.</p></li>
<li><p><strong>test_dataset</strong> (<em>datasets.Dataset</em>) – Test dataset to get metrics on.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="nlpboost.autotrainer.AutoTrainer.train_one_model_optuna">
<span class="sig-name descname"><span class="pre">train_one_model_optuna</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model_config</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dataset_config</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">compute_objective</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">compute_metrics_func</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_dir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">test_dataset</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/nlpboost/autotrainer.html#AutoTrainer.train_one_model_optuna"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nlpboost.autotrainer.AutoTrainer.train_one_model_optuna" title="Permalink to this definition"></a></dt>
<dd><p>Train one model in one dataset, with hyperparameter tuning, using Optuna.
Load a checkpoint cleaner in the background to clean bad performing checkpoints
every 10 minutes, also saving the best performing checkpoint. Then, carry out
hyperparameter search and, if configured (see <cite>DatasetConfig</cite>), retrain at end
with the best hyperparameters again. After that, results on the test set are
obtained. For that, <cite>ResultsGetter</cite> is used for dataset processing, prediction
and metrics gathering. If desired, the user may change the behavior
of this part by creating a custom <cite>ResultsGetter</cite> overriding the desired
methods, and passing it to <cite>DatasetConfig</cite> as a <cite>custom_results_getter</cite>.
Metrics are saved in json or txt format, and, if configured, the model
is pushed to the hub.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>model_config</strong> (<a class="reference internal" href="#nlpboost.model_config.ModelConfig" title="nlpboost.model_config.ModelConfig"><em>ModelConfig</em></a>) – Configuration for the model.</p></li>
<li><p><strong>dataset_config</strong> (<a class="reference internal" href="#nlpboost.dataset_config.DatasetConfig" title="nlpboost.dataset_config.DatasetConfig"><em>DatasetConfig</em></a><em>,</em>) – Configuration for the dataset.</p></li>
<li><p><strong>compute_objective</strong> – Function to return the computed metric objective.</p></li>
<li><p><strong>compute_metrics_func</strong> – Function to compute metrics.</p></li>
<li><p><strong>output_dir</strong> (<em>str</em>) – Directory where the model is saved.</p></li>
<li><p><strong>test_dataset</strong> (<em>datasets.Dataset</em>) – Test dataset to get metrics on.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>test_results</strong> – Dictionary with the results in the test set.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="nlpboost.autotrainer.AutoTrainer.train_with_fixed_params">
<span class="sig-name descname"><span class="pre">train_with_fixed_params</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/nlpboost/autotrainer.html#AutoTrainer.train_with_fixed_params"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nlpboost.autotrainer.AutoTrainer.train_with_fixed_params" title="Permalink to this definition"></a></dt>
<dd><p>Train without hyperparameter search, with a fixed set of params.</p>
<p>The default parameters are defined in the fixed_train_args of DatasetConfig.
However, we can use ModelConfig.overwrite_training_args to change this,
by passing a dictionary with the new parameters that we want to use for a model.</p>
</dd></dl>

</dd></dl>

</section>
<section id="module-nlpboost.ckpt_cleaner">
<span id="nlpboost-ckpt-cleaner-module"></span><h2>nlpboost.ckpt_cleaner module<a class="headerlink" href="#module-nlpboost.ckpt_cleaner" title="Permalink to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="nlpboost.ckpt_cleaner.CkptCleaner">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">nlpboost.ckpt_cleaner.</span></span><span class="sig-name descname"><span class="pre">CkptCleaner</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">current_folder_clean</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">current_dataset_folder</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metrics_save_dir</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">modelname</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'max'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">try_mode</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/nlpboost/ckpt_cleaner.html#CkptCleaner"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nlpboost.ckpt_cleaner.CkptCleaner" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Clean all checkpoints that are not longer useful.</p>
<p>CkptCleaner makes sure that not too much checkpoints are saved. To do so,
it removes the checkpoints which have not achieved the best results.</p>
<dl class="py method">
<dt class="sig sig-object py" id="nlpboost.ckpt_cleaner.CkptCleaner.fix_dir">
<span class="sig-name descname"><span class="pre">fix_dir</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dir</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/nlpboost/ckpt_cleaner.html#CkptCleaner.fix_dir"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nlpboost.ckpt_cleaner.CkptCleaner.fix_dir" title="Permalink to this definition"></a></dt>
<dd><p>Fix directory path for windows file systems.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>dir</strong> (<em>str</em>) – Directory to fix.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>dir</strong> – Fixed directory.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="nlpboost.ckpt_cleaner.CkptCleaner.get_best_name">
<span class="sig-name descname"><span class="pre">get_best_name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">metrics</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/nlpboost/ckpt_cleaner.html#CkptCleaner.get_best_name"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nlpboost.ckpt_cleaner.CkptCleaner.get_best_name" title="Permalink to this definition"></a></dt>
<dd><p>Get the path of the best performing model.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>metrics</strong> (<em>Dict</em>) – Metrics of all models in a dictionary.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>best</strong> – Path to the best performing model.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="nlpboost.ckpt_cleaner.CkptCleaner.remove_dirs">
<span class="sig-name descname"><span class="pre">remove_dirs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">checkpoint_dirs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/nlpboost/ckpt_cleaner.html#CkptCleaner.remove_dirs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nlpboost.ckpt_cleaner.CkptCleaner.remove_dirs" title="Permalink to this definition"></a></dt>
<dd><p>Delete checkpoint directories.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>checkpoint_dirs</strong> (<em>List</em>) – List with the checkpoint directories to remove.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="nlpboost.ckpt_cleaner.CkptCleaner.save_best">
<span class="sig-name descname"><span class="pre">save_best</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">best_model</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/nlpboost/ckpt_cleaner.html#CkptCleaner.save_best"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nlpboost.ckpt_cleaner.CkptCleaner.save_best" title="Permalink to this definition"></a></dt>
<dd><p>Save best model.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>best_model</strong> (<em>str</em>) – Path of the best performing model.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>target</strong> – Complete path to the target directory where the best model has been copied.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-nlpboost.dataset_config">
<span id="nlpboost-dataset-config-module"></span><h2>nlpboost.dataset_config module<a class="headerlink" href="#module-nlpboost.dataset_config" title="Permalink to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="nlpboost.dataset_config.DatasetConfig">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">nlpboost.dataset_config.</span></span><span class="sig-name descname"><span class="pre">DatasetConfig</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataset_name:</span> <span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">alias:</span> <span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">task:</span> <span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fixed_training_args:</span> <span class="pre">~typing.Dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">is_multilabel:</span> <span class="pre">bool</span> <span class="pre">=</span> <span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">multilabel_label_names:</span> <span class="pre">~typing.List</span> <span class="pre">=</span> <span class="pre">&lt;factory&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hf_load_kwargs:</span> <span class="pre">~typing.Optional[~typing.Dict]</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">type_load:</span> <span class="pre">str</span> <span class="pre">=</span> <span class="pre">'json'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">files:</span> <span class="pre">~typing.Optional[~typing.Dict]</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data_field:</span> <span class="pre">str</span> <span class="pre">=</span> <span class="pre">'data'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">partial_split:</span> <span class="pre">bool</span> <span class="pre">=</span> <span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">split:</span> <span class="pre">bool</span> <span class="pre">=</span> <span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">label_col:</span> <span class="pre">str</span> <span class="pre">=</span> <span class="pre">'label_list'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">val_size:</span> <span class="pre">float</span> <span class="pre">=</span> <span class="pre">0.15</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">test_size:</span> <span class="pre">float</span> <span class="pre">=</span> <span class="pre">0.15</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pre_func:</span> <span class="pre">~typing.Optional[~typing.Any]</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">remove_fields_pre_func:</span> <span class="pre">bool</span> <span class="pre">=</span> <span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">squad_v2:</span> <span class="pre">bool</span> <span class="pre">=</span> <span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">text_field:</span> <span class="pre">str</span> <span class="pre">=</span> <span class="pre">'text'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">is_2sents:</span> <span class="pre">bool</span> <span class="pre">=</span> <span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sentence1_field:</span> <span class="pre">~typing.Optional[str]</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sentence2_field:</span> <span class="pre">~typing.Optional[str]</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">summary_field:</span> <span class="pre">str</span> <span class="pre">=</span> <span class="pre">'summary'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">callbacks:</span> <span class="pre">~typing.List</span> <span class="pre">=</span> <span class="pre">&lt;factory&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metric_optimize:</span> <span class="pre">str</span> <span class="pre">=</span> <span class="pre">'eval_loss'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">direction_optimize:</span> <span class="pre">str</span> <span class="pre">=</span> <span class="pre">'minimize'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">custom_eval_func:</span> <span class="pre">~typing.Optional[~typing.Any]</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">seed:</span> <span class="pre">int</span> <span class="pre">=</span> <span class="pre">420</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_length_summary:</span> <span class="pre">int</span> <span class="pre">=</span> <span class="pre">120</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_proc:</span> <span class="pre">int</span> <span class="pre">=</span> <span class="pre">4</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">loaded_dataset:</span> <span class="pre">~typing.Optional[~typing.Any]</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">additional_metrics:</span> <span class="pre">~typing.Optional[~typing.List]</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">retrain_at_end:</span> <span class="pre">bool</span> <span class="pre">=</span> <span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">config_num_labels:</span> <span class="pre">~typing.Optional[int]</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">smoke_test:</span> <span class="pre">bool</span> <span class="pre">=</span> <span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">augment_data:</span> <span class="pre">bool</span> <span class="pre">=</span> <span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data_augmentation_steps:</span> <span class="pre">~typing.List</span> <span class="pre">=</span> <span class="pre">&lt;factory&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">id_field_qa:</span> <span class="pre">str</span> <span class="pre">=</span> <span class="pre">'id'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pretokenized_dataset:</span> <span class="pre">~typing.Optional[~typing.Any]</span> <span class="pre">=</span> <span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/nlpboost/dataset_config.html#DatasetConfig"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nlpboost.dataset_config.DatasetConfig" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Configure a dataset for use within the AutoTrainer class.</p>
<p>This determines how to load the dataset,
whether local files are needed, whether additional splits are needed (for example when the original
dataset only has train-test and we want also validation), and so on.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dataset_name</strong> (<em>str</em>) – The name of the dataset.</p></li>
<li><p><strong>alias</strong> (<em>str</em>) – Alias for the dataset, for saving it.</p></li>
<li><p><strong>task</strong> (<em>str</em>) – The task of the dataset. Currenlty, only classification, ner and qa (question answering) are available.</p></li>
<li><p><strong>fixed_training_args</strong> (<em>Dict</em>) – The training arguments (to use in transformers.TrainingArguments) for every model on this dataset, in dictionary format.</p></li>
<li><p><strong>is_multilabel</strong> (<em>bool</em>) – Whether it is multilabel classification</p></li>
<li><p><strong>multilabel_label_names</strong> (<em>List</em>) – Names of the labels for multilabel training.</p></li>
<li><p><strong>hf_load_kwargs</strong> (<em>Dict</em>) – Arguments for loading the dataset from the huggingface datasets’ hub. Example: {‘path’: ‘wikiann’, ‘name’: ‘es’}.
If None, it is assumed that all necessary files exist locally and are passed in the files field.</p></li>
<li><p><strong>type_load</strong> (<em>str</em>) – The type of load to perform in load_dataset; for example, if your data is in csv format (d = load_dataset(‘csv’, …)), this should be csv.</p></li>
<li><p><strong>files</strong> (<em>Dict</em>) – Files to load the dataset from, in Huggingface’s datasets format. Possible keys are train, validation and test.</p></li>
<li><p><strong>data_field</strong> (<em>str</em>) – Field to load data from in the case of jsons loading in datasets.</p></li>
<li><p><strong>partial_split</strong> (<em>bool</em>) – Wheter a partial split is needed, that is, if you only have train and test sets, this should be True so that a new validation set is created.</p></li>
<li><p><strong>split</strong> (<em>bool</em>) – This should be true when you only have one split, that is, a big train set; this creates new validation and test sets.</p></li>
<li><p><strong>label_col</strong> (<em>str</em>) – Name of the label column.</p></li>
<li><p><strong>val_size</strong> (<em>float</em>) – In case no validation split is provided, the proportion of the training data to leave for validation.</p></li>
<li><p><strong>test_size</strong> (<em>float</em>) – In case no test split is provided, the proportion of the total data to leave for testing.</p></li>
<li><p><strong>pre_func</strong> (<em>Any</em>) – Function to perform previous transformations. For example, if your dataset lacks a field (like xquad with title field for example), you can fix it in a function provided here.</p></li>
<li><p><strong>squad_v2</strong> (<em>bool</em>) – Only useful for question answering. Whether it is squad v2 format or not. Default is false.</p></li>
<li><p><strong>text_field</strong> (<em>str</em>) – The name of the field containing the text. Useful only in case of unique-text-field datasets,like most datasets are. In case of 2-sentences datasets like xnli or paws-x this is not useful. Default is text.</p></li>
<li><p><strong>is_2sents</strong> (<em>bool</em>) – Whether it is a 2 sentence dataset. Useful for processing datasets like xnli or paws-x.</p></li>
<li><p><strong>sentence1_field</strong> (<em>str</em>) – In case this is a 2 sents dataset, the name of the first sentence field.</p></li>
<li><p><strong>sentence2_field</strong> (<em>str</em>) – In case this is a 2 sents dataset, the name of the second sentence field.</p></li>
<li><p><strong>summary_field</strong> (<em>str = field</em><em>(</em>) – The name of the field with summaries (we assume the long texts are in the text_field field). Only useful for summarization tasks. Default is summary.</p></li>
<li><p><strong>callbacks</strong> (<em>List</em>) – Callbacks to use inside transformers.</p></li>
<li><p><strong>metric_optimize</strong> (<em>str</em>) – Name of the metric you want to optimize in the hyperparameter search.</p></li>
<li><p><strong>direction_optimize</strong> (<em>str</em>) – Direction of the optimization problem. Whether you want to maximize or minimize metric_optimize.</p></li>
<li><p><strong>custom_eval_func</strong> (<em>Any</em>) – In case we want a special evaluation function, we can provide it here. It must receive EvalPredictions by trainer, like any compute_metrics function in transformers.</p></li>
<li><p><strong>seed</strong> (<em>int</em>) – Seed for optuna sampler.</p></li>
<li><p><strong>max_length_summary</strong> (<em>int</em>) – Max length of the summaries, for tokenization purposes. It will be changed depending on the ModelConfig.</p></li>
<li><p><strong>num_proc</strong> (<em>int</em>) – Number of processes to preprocess data.</p></li>
<li><p><strong>loaded_dataset</strong> (<em>Any</em>) – In case you want to do weird things like concatenating datasets or things like that, you can do that here, by passing a (non-tokenized) dataset in this field.</p></li>
<li><p><strong>additional_metrics</strong> (<em>List</em>) – List of additional metrics loaded from datasets, to compute over the test part.</p></li>
<li><p><strong>retrain_at_end</strong> (<em>bool</em>) – whether to retrain with the best performing model. In most cases this should be True, except when training 1 model with 1 set of hyperparams.</p></li>
<li><p><strong>config_num_labels</strong> (<em>int</em>) – Number of labels to set for the config, if None it will be computed based on number of labels detected.</p></li>
<li><p><strong>smoke_test</strong> (<em>bool</em>) – Whether to select only top 10 rows of the dataset for smoke testing purposes.</p></li>
<li><p><strong>augment_data</strong> (<em>bool</em>) – Whether to augment_data or not.</p></li>
<li><p><strong>data_augmentation_steps</strong> (<em>List</em>) – List of data augmentation techniques to use from NLPAugPipeline.</p></li>
<li><p><strong>pretokenized_dataset</strong> (<em>Any</em>) – Pre-tokenized dataset, to avoid tokenizing inside AutoTrainer, which may cause memory issues with huge datasets.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>One can easily create a DatasetConfig for dataset conll2002 just with the following:</p>
<p>&gt;&gt;&gt;from nlpboost import DatasetConfig</p>
<p>&gt;&gt;&gt;config={‘fixed_train_args’: {}, ‘dataset_name’: ‘conll2002’, ‘alias’: ‘conll2002’, ‘task’: ‘ner’, ‘hf_load_kwargs’: {‘path’: ‘conll2002’, ‘name’: ‘es’}, ‘label_col’:’ner_tags’}</p>
<p>&gt;&gt;&gt;config = DatasetConfig(<a href="#id1"><span class="problematic" id="id2">**</span></a>config)</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="nlpboost.dataset_config.DatasetConfig.additional_metrics">
<span class="sig-name descname"><span class="pre">additional_metrics</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">List</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#nlpboost.dataset_config.DatasetConfig.additional_metrics" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="nlpboost.dataset_config.DatasetConfig.alias">
<span class="sig-name descname"><span class="pre">alias</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#nlpboost.dataset_config.DatasetConfig.alias" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="nlpboost.dataset_config.DatasetConfig.augment_data">
<span class="sig-name descname"><span class="pre">augment_data</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">bool</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">False</span></em><a class="headerlink" href="#nlpboost.dataset_config.DatasetConfig.augment_data" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="nlpboost.dataset_config.DatasetConfig.callbacks">
<span class="sig-name descname"><span class="pre">callbacks</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">List</span></em><a class="headerlink" href="#nlpboost.dataset_config.DatasetConfig.callbacks" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="nlpboost.dataset_config.DatasetConfig.config_num_labels">
<span class="sig-name descname"><span class="pre">config_num_labels</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#nlpboost.dataset_config.DatasetConfig.config_num_labels" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="nlpboost.dataset_config.DatasetConfig.custom_eval_func">
<span class="sig-name descname"><span class="pre">custom_eval_func</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Any</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#nlpboost.dataset_config.DatasetConfig.custom_eval_func" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="nlpboost.dataset_config.DatasetConfig.data_augmentation_steps">
<span class="sig-name descname"><span class="pre">data_augmentation_steps</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">List</span></em><a class="headerlink" href="#nlpboost.dataset_config.DatasetConfig.data_augmentation_steps" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="nlpboost.dataset_config.DatasetConfig.data_field">
<span class="sig-name descname"><span class="pre">data_field</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'data'</span></em><a class="headerlink" href="#nlpboost.dataset_config.DatasetConfig.data_field" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="nlpboost.dataset_config.DatasetConfig.dataset_name">
<span class="sig-name descname"><span class="pre">dataset_name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#nlpboost.dataset_config.DatasetConfig.dataset_name" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="nlpboost.dataset_config.DatasetConfig.direction_optimize">
<span class="sig-name descname"><span class="pre">direction_optimize</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'minimize'</span></em><a class="headerlink" href="#nlpboost.dataset_config.DatasetConfig.direction_optimize" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="nlpboost.dataset_config.DatasetConfig.files">
<span class="sig-name descname"><span class="pre">files</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Dict</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#nlpboost.dataset_config.DatasetConfig.files" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="nlpboost.dataset_config.DatasetConfig.fixed_training_args">
<span class="sig-name descname"><span class="pre">fixed_training_args</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Dict</span></em><a class="headerlink" href="#nlpboost.dataset_config.DatasetConfig.fixed_training_args" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="nlpboost.dataset_config.DatasetConfig.hf_load_kwargs">
<span class="sig-name descname"><span class="pre">hf_load_kwargs</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Dict</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#nlpboost.dataset_config.DatasetConfig.hf_load_kwargs" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="nlpboost.dataset_config.DatasetConfig.id_field_qa">
<span class="sig-name descname"><span class="pre">id_field_qa</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'id'</span></em><a class="headerlink" href="#nlpboost.dataset_config.DatasetConfig.id_field_qa" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="nlpboost.dataset_config.DatasetConfig.is_2sents">
<span class="sig-name descname"><span class="pre">is_2sents</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">bool</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">False</span></em><a class="headerlink" href="#nlpboost.dataset_config.DatasetConfig.is_2sents" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="nlpboost.dataset_config.DatasetConfig.is_multilabel">
<span class="sig-name descname"><span class="pre">is_multilabel</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">bool</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">False</span></em><a class="headerlink" href="#nlpboost.dataset_config.DatasetConfig.is_multilabel" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="nlpboost.dataset_config.DatasetConfig.label_col">
<span class="sig-name descname"><span class="pre">label_col</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'label_list'</span></em><a class="headerlink" href="#nlpboost.dataset_config.DatasetConfig.label_col" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="nlpboost.dataset_config.DatasetConfig.loaded_dataset">
<span class="sig-name descname"><span class="pre">loaded_dataset</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Any</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#nlpboost.dataset_config.DatasetConfig.loaded_dataset" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="nlpboost.dataset_config.DatasetConfig.max_length_summary">
<span class="sig-name descname"><span class="pre">max_length_summary</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">120</span></em><a class="headerlink" href="#nlpboost.dataset_config.DatasetConfig.max_length_summary" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="nlpboost.dataset_config.DatasetConfig.metric_optimize">
<span class="sig-name descname"><span class="pre">metric_optimize</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'eval_loss'</span></em><a class="headerlink" href="#nlpboost.dataset_config.DatasetConfig.metric_optimize" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="nlpboost.dataset_config.DatasetConfig.multilabel_label_names">
<span class="sig-name descname"><span class="pre">multilabel_label_names</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">List</span></em><a class="headerlink" href="#nlpboost.dataset_config.DatasetConfig.multilabel_label_names" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="nlpboost.dataset_config.DatasetConfig.num_proc">
<span class="sig-name descname"><span class="pre">num_proc</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">4</span></em><a class="headerlink" href="#nlpboost.dataset_config.DatasetConfig.num_proc" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="nlpboost.dataset_config.DatasetConfig.partial_split">
<span class="sig-name descname"><span class="pre">partial_split</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">bool</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">False</span></em><a class="headerlink" href="#nlpboost.dataset_config.DatasetConfig.partial_split" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="nlpboost.dataset_config.DatasetConfig.pre_func">
<span class="sig-name descname"><span class="pre">pre_func</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Any</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#nlpboost.dataset_config.DatasetConfig.pre_func" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="nlpboost.dataset_config.DatasetConfig.pretokenized_dataset">
<span class="sig-name descname"><span class="pre">pretokenized_dataset</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Any</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#nlpboost.dataset_config.DatasetConfig.pretokenized_dataset" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="nlpboost.dataset_config.DatasetConfig.remove_fields_pre_func">
<span class="sig-name descname"><span class="pre">remove_fields_pre_func</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">bool</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">False</span></em><a class="headerlink" href="#nlpboost.dataset_config.DatasetConfig.remove_fields_pre_func" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="nlpboost.dataset_config.DatasetConfig.retrain_at_end">
<span class="sig-name descname"><span class="pre">retrain_at_end</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">bool</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">True</span></em><a class="headerlink" href="#nlpboost.dataset_config.DatasetConfig.retrain_at_end" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="nlpboost.dataset_config.DatasetConfig.seed">
<span class="sig-name descname"><span class="pre">seed</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">420</span></em><a class="headerlink" href="#nlpboost.dataset_config.DatasetConfig.seed" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="nlpboost.dataset_config.DatasetConfig.sentence1_field">
<span class="sig-name descname"><span class="pre">sentence1_field</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#nlpboost.dataset_config.DatasetConfig.sentence1_field" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="nlpboost.dataset_config.DatasetConfig.sentence2_field">
<span class="sig-name descname"><span class="pre">sentence2_field</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#nlpboost.dataset_config.DatasetConfig.sentence2_field" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="nlpboost.dataset_config.DatasetConfig.smoke_test">
<span class="sig-name descname"><span class="pre">smoke_test</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">bool</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">False</span></em><a class="headerlink" href="#nlpboost.dataset_config.DatasetConfig.smoke_test" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="nlpboost.dataset_config.DatasetConfig.split">
<span class="sig-name descname"><span class="pre">split</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">bool</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">False</span></em><a class="headerlink" href="#nlpboost.dataset_config.DatasetConfig.split" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="nlpboost.dataset_config.DatasetConfig.squad_v2">
<span class="sig-name descname"><span class="pre">squad_v2</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">bool</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">False</span></em><a class="headerlink" href="#nlpboost.dataset_config.DatasetConfig.squad_v2" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="nlpboost.dataset_config.DatasetConfig.summary_field">
<span class="sig-name descname"><span class="pre">summary_field</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'summary'</span></em><a class="headerlink" href="#nlpboost.dataset_config.DatasetConfig.summary_field" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="nlpboost.dataset_config.DatasetConfig.task">
<span class="sig-name descname"><span class="pre">task</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#nlpboost.dataset_config.DatasetConfig.task" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="nlpboost.dataset_config.DatasetConfig.test_size">
<span class="sig-name descname"><span class="pre">test_size</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">0.15</span></em><a class="headerlink" href="#nlpboost.dataset_config.DatasetConfig.test_size" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="nlpboost.dataset_config.DatasetConfig.text_field">
<span class="sig-name descname"><span class="pre">text_field</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'text'</span></em><a class="headerlink" href="#nlpboost.dataset_config.DatasetConfig.text_field" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="nlpboost.dataset_config.DatasetConfig.type_load">
<span class="sig-name descname"><span class="pre">type_load</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'json'</span></em><a class="headerlink" href="#nlpboost.dataset_config.DatasetConfig.type_load" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="nlpboost.dataset_config.DatasetConfig.val_size">
<span class="sig-name descname"><span class="pre">val_size</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">0.15</span></em><a class="headerlink" href="#nlpboost.dataset_config.DatasetConfig.val_size" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

</section>
<section id="module-nlpboost.default_param_spaces">
<span id="nlpboost-default-param-spaces-module"></span><h2>nlpboost.default_param_spaces module<a class="headerlink" href="#module-nlpboost.default_param_spaces" title="Permalink to this heading"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="nlpboost.default_param_spaces.hp_space_base">
<span class="sig-prename descclassname"><span class="pre">nlpboost.default_param_spaces.</span></span><span class="sig-name descname"><span class="pre">hp_space_base</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">trial</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/nlpboost/default_param_spaces.html#hp_space_base"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nlpboost.default_param_spaces.hp_space_base" title="Permalink to this definition"></a></dt>
<dd><p>Hyperparameter space in Optuna format for base-sized models (e.g. bert-base).</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="nlpboost.default_param_spaces.hp_space_large">
<span class="sig-prename descclassname"><span class="pre">nlpboost.default_param_spaces.</span></span><span class="sig-name descname"><span class="pre">hp_space_large</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">trial</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/nlpboost/default_param_spaces.html#hp_space_large"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nlpboost.default_param_spaces.hp_space_large" title="Permalink to this definition"></a></dt>
<dd><p>Hyperparameter space in Optuna format for large-sized models (e.g. bert-large).</p>
</dd></dl>

</section>
<section id="module-nlpboost.hfdatasets_manager">
<span id="nlpboost-hfdatasets-manager-module"></span><h2>nlpboost.hfdatasets_manager module<a class="headerlink" href="#module-nlpboost.hfdatasets_manager" title="Permalink to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="nlpboost.hfdatasets_manager.HFDatasetsManager">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">nlpboost.hfdatasets_manager.</span></span><span class="sig-name descname"><span class="pre">HFDatasetsManager</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataset_config</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_config</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/nlpboost/hfdatasets_manager.html#HFDatasetsManager"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nlpboost.hfdatasets_manager.HFDatasetsManager" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Utility for loading HF Datasets’ objects, using a DatasetConfig and a ModelConfig.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dataset_config</strong> – Configuration for the dataset</p></li>
<li><p><strong>model_config</strong> – Configuration for the model.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="nlpboost.hfdatasets_manager.HFDatasetsManager.get_dataset_and_tag2id">
<span class="sig-name descname"><span class="pre">get_dataset_and_tag2id</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tokenizer</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/nlpboost/hfdatasets_manager.html#HFDatasetsManager.get_dataset_and_tag2id"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nlpboost.hfdatasets_manager.HFDatasetsManager.get_dataset_and_tag2id" title="Permalink to this definition"></a></dt>
<dd><p>Get dataset and tag2id depending on dataset and model config.
Using dataset config (task, etc) a preprocessing is applied to
the dataset, tokenizing text data, returning a processed dataset
ready for the configured task.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>tokenizer</strong> – Tokenizer to process data.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>dataset</strong> (<em>datasets.DatasetDict</em>) – Tokenized dataset.</p></li>
<li><p><strong>tag2id</strong> (<em>Dict</em>) – Dictionary with tags (labels) and their indexes.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-nlpboost.hftransformers_manager">
<span id="nlpboost-hftransformers-manager-module"></span><h2>nlpboost.hftransformers_manager module<a class="headerlink" href="#module-nlpboost.hftransformers_manager" title="Permalink to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="nlpboost.hftransformers_manager.HFTransformersManager">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">nlpboost.hftransformers_manager.</span></span><span class="sig-name descname"><span class="pre">HFTransformersManager</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model_config</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dataset_config</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_auth_token</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/nlpboost/hftransformers_manager.html#HFTransformersManager"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nlpboost.hftransformers_manager.HFTransformersManager" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Utility for loading HF Transformers’ objects, using a dataset config and a model config.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>model_config</strong> – Configuration for the model.</p></li>
<li><p><strong>dataset_config</strong> – Configuration for the dataset</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="nlpboost.hftransformers_manager.HFTransformersManager.get_model_cls">
<span class="sig-name descname"><span class="pre">get_model_cls</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/nlpboost/hftransformers_manager.html#HFTransformersManager.get_model_cls"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nlpboost.hftransformers_manager.HFTransformersManager.get_model_cls" title="Permalink to this definition"></a></dt>
<dd><p>Get the class to use for a model.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Class for the model.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>model_cls</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="nlpboost.hftransformers_manager.HFTransformersManager.load_config">
<span class="sig-name descname"><span class="pre">load_config</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tag2id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dropout</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/nlpboost/hftransformers_manager.html#HFTransformersManager.load_config"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nlpboost.hftransformers_manager.HFTransformersManager.load_config" title="Permalink to this definition"></a></dt>
<dd><p>Load configuration for the model depending on the type of task we are doing.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tag2id</strong> (<em>Dict</em>) – Dictionary with the map of tag to id of those tags.</p></li>
<li><p><strong>dropout</strong> (<em>float</em>) – Dropout proportion for the pooler layer.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>config</strong> – Configuration for use in the transformers module.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>transformers.AutoConfig</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="nlpboost.hftransformers_manager.HFTransformersManager.load_data_collator">
<span class="sig-name descname"><span class="pre">load_data_collator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tokenizer</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/nlpboost/hftransformers_manager.html#HFTransformersManager.load_data_collator"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nlpboost.hftransformers_manager.HFTransformersManager.load_data_collator" title="Permalink to this definition"></a></dt>
<dd><p>Load data collator depending on the type of task we are doing.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>tokenizer</strong> (<em>transformers.PretrainedTokenizer</em>) – Tokenizer to process data.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>data_collator</strong> – DataCollator for use in the transformers library.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>transformers.DataCollator</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="nlpboost.hftransformers_manager.HFTransformersManager.load_model_init">
<span class="sig-name descname"><span class="pre">load_model_init</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model_cls</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">config</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tokenizer</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/nlpboost/hftransformers_manager.html#HFTransformersManager.load_model_init"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nlpboost.hftransformers_manager.HFTransformersManager.load_model_init" title="Permalink to this definition"></a></dt>
<dd><p>Load the model init function.</p>
<p>This function is useful for the Transformers integration with Optuna.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>model_cls</strong> – Class for the model.</p></li>
<li><p><strong>config</strong> (<em>AutoConfig</em>) – Configuration for the model.</p></li>
<li><p><strong>tokenizer</strong> (<em>transformers.PretrainedTokenizer</em>) – Tokenizer to preprocess text data.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Function for initializing the model. Furtherly passed to the Trainer.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>model_init</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="nlpboost.hftransformers_manager.HFTransformersManager.load_tokenizer">
<span class="sig-name descname"><span class="pre">load_tokenizer</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/nlpboost/hftransformers_manager.html#HFTransformersManager.load_tokenizer"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nlpboost.hftransformers_manager.HFTransformersManager.load_tokenizer" title="Permalink to this definition"></a></dt>
<dd><p>Load tokenizer for the given model config and model name.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Loaded tokenizer.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>tokenizer</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="nlpboost.hftransformers_manager.HFTransformersManager.load_train_args">
<span class="sig-name descname"><span class="pre">load_train_args</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">output_dir</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/nlpboost/hftransformers_manager.html#HFTransformersManager.load_train_args"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nlpboost.hftransformers_manager.HFTransformersManager.load_train_args" title="Permalink to this definition"></a></dt>
<dd><p>Load training args depending on the task.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>output_dir</strong> (<em>str</em>) – Local directory name to save the model.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>args</strong> – Arguments for training.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>transformers.TrainingArguments</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="nlpboost.hftransformers_manager.HFTransformersManager.load_trainer">
<span class="sig-name descname"><span class="pre">load_trainer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tokenizer</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_init</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data_collator</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">compute_metrics_func</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">config</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/nlpboost/hftransformers_manager.html#HFTransformersManager.load_trainer"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nlpboost.hftransformers_manager.HFTransformersManager.load_trainer" title="Permalink to this definition"></a></dt>
<dd><p>Load an instantiated Trainer object depending on the configuration.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dataset</strong> (<em>datasets.DatasetDict</em>) – Dataset with train and validation splits.</p></li>
<li><p><strong>tokenizer</strong> (<em>transformers.AutoTokenizer</em>) – Tokenizer from transformers.</p></li>
<li><p><strong>args</strong> – TrainingArguments for the Trainer.</p></li>
<li><p><strong>model_init</strong> – Function that loads the model.</p></li>
<li><p><strong>data_collator</strong> – Data Collator to use inside Trainer.</p></li>
<li><p><strong>compute_metrics_func</strong> – Function to compute metrics.</p></li>
<li><p><strong>config</strong> – Configuration for the model in Huggingface Transformers.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Trainer object loaded with the given configuration.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Trainer</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="nlpboost.hftransformers_manager.MultilabelTrainer">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">nlpboost.hftransformers_manager.</span></span><span class="sig-name descname"><span class="pre">MultilabelTrainer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">PreTrainedModel</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Module</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">args</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">TrainingArguments</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data_collator</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">DataCollator</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">train_dataset</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Dataset</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">eval_dataset</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Dataset</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tokenizer</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">PreTrainedTokenizerBase</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_init</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Callable</span><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">PreTrainedModel</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">compute_metrics</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Callable</span><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">[</span></span><span class="pre">EvalPrediction</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">callbacks</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">TrainerCallback</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">optimizers</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">Optimizer</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">LambdaLR</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">(None,</span> <span class="pre">None)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">preprocess_logits_for_metrics</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Callable</span><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">[</span></span><span class="pre">Tensor</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Tensor</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Tensor</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/nlpboost/hftransformers_manager.html#MultilabelTrainer"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nlpboost.hftransformers_manager.MultilabelTrainer" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Trainer</span></code></p>
<p>Version of the trainer used for multilabel setting.</p>
<dl class="py method">
<dt class="sig sig-object py" id="nlpboost.hftransformers_manager.MultilabelTrainer.compute_loss">
<span class="sig-name descname"><span class="pre">compute_loss</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">inputs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_outputs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/nlpboost/hftransformers_manager.html#MultilabelTrainer.compute_loss"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nlpboost.hftransformers_manager.MultilabelTrainer.compute_loss" title="Permalink to this definition"></a></dt>
<dd><p>Compute loss of the model.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>model</strong> (<em>transformers.PreTrainedModel</em>) – Model to compute loss.</p></li>
<li><p><strong>inputs</strong> (<em>torch.Tensor</em>) – Model inputs.</p></li>
<li><p><strong>return_outputs</strong> (<em>bool</em>) – Wether or not to return model outputs.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-nlpboost.metrics">
<span id="nlpboost-metrics-module"></span><h2>nlpboost.metrics module<a class="headerlink" href="#module-nlpboost.metrics" title="Permalink to this heading"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="nlpboost.metrics.compute_metrics_classification">
<span class="sig-prename descclassname"><span class="pre">nlpboost.metrics.</span></span><span class="sig-name descname"><span class="pre">compute_metrics_classification</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pred</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tokenizer</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">id2tag</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">additional_metrics</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/nlpboost/metrics.html#compute_metrics_classification"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nlpboost.metrics.compute_metrics_classification" title="Permalink to this definition"></a></dt>
<dd><p>Compute metrics for classification (multi-class or binary) tasks.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pred</strong> (<em>transformers.EvalPrediction</em>) – Prediction as output by transformers.Trainer</p></li>
<li><p><strong>tokenizer</strong> (<em>transformers.Tokenizer</em>) – Tokenizer from huggingface.</p></li>
<li><p><strong>id2tag</strong> (<em>Dict</em>) – Dictionary mapping label ids to label names.</p></li>
<li><p><strong>additional_metrics</strong> (<em>List</em>) – List with additional metrics to compute.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>metrics</strong> – Dictionary with metrics. For information regarding the exact metrics
received in it, see the documentation for sklearn.metrics.classification_report.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="nlpboost.metrics.compute_metrics_multilabel">
<span class="sig-prename descclassname"><span class="pre">nlpboost.metrics.</span></span><span class="sig-name descname"><span class="pre">compute_metrics_multilabel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pred</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tokenizer</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">id2tag</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">additional_metrics</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/nlpboost/metrics.html#compute_metrics_multilabel"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nlpboost.metrics.compute_metrics_multilabel" title="Permalink to this definition"></a></dt>
<dd><p>Compute the metrics for a multilabel task.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pred</strong> (<em>transformers.EvalPrediction</em>) – Prediction as output by transformers.Trainer</p></li>
<li><p><strong>tokenizer</strong> (<em>transformers.Tokenizer</em>) – Tokenizer from huggingface.</p></li>
<li><p><strong>id2tag</strong> (<em>Dict</em>) – Dictionary mapping label ids to label names.</p></li>
<li><p><strong>additional_metrics</strong> (<em>List</em>) – List with additional metrics to compute.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>best_metrics</strong> – Dictionary with best metrics, after trying different thresholds.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="nlpboost.metrics.compute_metrics_ner">
<span class="sig-prename descclassname"><span class="pre">nlpboost.metrics.</span></span><span class="sig-name descname"><span class="pre">compute_metrics_ner</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">p</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tokenizer</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">id2tag</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">additional_metrics</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/nlpboost/metrics.html#compute_metrics_ner"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nlpboost.metrics.compute_metrics_ner" title="Permalink to this definition"></a></dt>
<dd><p>Compute metrics for ner.</p>
<p>Useful for ner such as precision, recall, f1, accuracy.
It is used to report metrics on eval set while training.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>p</strong> (<em>transformers.EvalPrediction</em>) – Instance of EvalPrediction from transformers.</p></li>
<li><p><strong>tokenizer</strong> (<em>transformers.Tokenizer</em>) – Tokenizer from huggingface.</p></li>
<li><p><strong>id2tag</strong> (<em>Dict</em>) – Dictionary mapping label ids to label names.</p></li>
<li><p><strong>additional_metrics</strong> (<em>List</em>) – List with additional metrics to compute.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Complete dictionary with all computed metrics on eval data.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Metrics</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="nlpboost.metrics.compute_metrics_summarization">
<span class="sig-prename descclassname"><span class="pre">nlpboost.metrics.</span></span><span class="sig-name descname"><span class="pre">compute_metrics_summarization</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">eval_pred</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tokenizer</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">id2tag</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">additional_metrics</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/nlpboost/metrics.html#compute_metrics_summarization"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nlpboost.metrics.compute_metrics_summarization" title="Permalink to this definition"></a></dt>
<dd><p>Compute metrics for summarization tasks, by using rouge metrics in datasets library.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>eval_pred</strong> (<em>transformers.EvalPrediction</em>) – Prediction as output by transformers.Trainer</p></li>
<li><p><strong>tokenizer</strong> – Tokenizer from huggingface.</p></li>
<li><p><strong>id2tag</strong> (<em>Dict</em>) – Dictionary mapping label ids to label names.</p></li>
<li><p><strong>additional_metrics</strong> (<em>List</em>) – List with additional metrics to compute.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>metrics</strong> – Dictionary with relevant metrics for summarization.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Dict</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-nlpboost.metrics_plotter">
<span id="nlpboost-metrics-plotter-module"></span><h2>nlpboost.metrics_plotter module<a class="headerlink" href="#module-nlpboost.metrics_plotter" title="Permalink to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="nlpboost.metrics_plotter.ResultsPlotter">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">nlpboost.metrics_plotter.</span></span><span class="sig-name descname"><span class="pre">ResultsPlotter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">metrics_dir</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_names</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dataset_to_task_map</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">remove_strs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metric_field</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'f1-score'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/nlpboost/metrics_plotter.html#ResultsPlotter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nlpboost.metrics_plotter.ResultsPlotter" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Tool for plotting the results of the models trained.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>metrics_dir</strong> (<em>str</em>) – Directory name with metrics.</p></li>
<li><p><strong>model_names</strong> (<em>List</em>) – List with the names of the models.</p></li>
<li><p><strong>dataset_to_task_map</strong> (<em>Dict</em>) – Dictionary that maps dataset names to tasks. Can be built with the list of DatasetConfigs.</p></li>
<li><p><strong>remove_strs</strong> (<em>List</em>) – List of strings to remove from filename.</p></li>
<li><p><strong>metric_field</strong> (<em>str</em>) – Name of the field with the objective metric.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="nlpboost.metrics_plotter.ResultsPlotter.plot_metrics">
<span class="sig-name descname"><span class="pre">plot_metrics</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/nlpboost/metrics_plotter.html#ResultsPlotter.plot_metrics"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nlpboost.metrics_plotter.ResultsPlotter.plot_metrics" title="Permalink to this definition"></a></dt>
<dd><p>Plot the metrics as a barplot.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="nlpboost.metrics_plotter.ResultsPlotter.read_metrics">
<span class="sig-name descname"><span class="pre">read_metrics</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/nlpboost/metrics_plotter.html#ResultsPlotter.read_metrics"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nlpboost.metrics_plotter.ResultsPlotter.read_metrics" title="Permalink to this definition"></a></dt>
<dd><p>Read the metrics in the self.metrics_dir directory, creating a dataset with the data.</p>
</dd></dl>

</dd></dl>

</section>
<section id="module-nlpboost.model_config">
<span id="nlpboost-model-config-module"></span><h2>nlpboost.model_config module<a class="headerlink" href="#module-nlpboost.model_config" title="Permalink to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="nlpboost.model_config.ModelConfig">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">nlpboost.model_config.</span></span><span class="sig-name descname"><span class="pre">ModelConfig</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name:</span> <span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">save_name:</span> <span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hp_space:</span> <span class="pre">~typing.Optional[~typing.Any]</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dropout_vals:</span> <span class="pre">~typing.List</span> <span class="pre">=</span> <span class="pre">&lt;factory&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">custom_config_class:</span> <span class="pre">~typing.Optional[~transformers.configuration_utils.PretrainedConfig]</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">custom_model_class:</span> <span class="pre">~typing.Optional[~transformers.modeling_utils.PreTrainedModel]</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">custom_tokenization_func:</span> <span class="pre">~typing.Optional[~typing.Any]</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">partial_custom_tok_func_call:</span> <span class="pre">~typing.Optional[~typing.Any]</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">encoder_name:</span> <span class="pre">~typing.Optional[str]</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">decoder_name:</span> <span class="pre">~typing.Optional[str]</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tie_encoder_decoder:</span> <span class="pre">bool</span> <span class="pre">=</span> <span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_length_summary:</span> <span class="pre">int</span> <span class="pre">=</span> <span class="pre">128</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_length_summary:</span> <span class="pre">int</span> <span class="pre">=</span> <span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">no_repeat_ngram_size:</span> <span class="pre">int</span> <span class="pre">=</span> <span class="pre">3</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">early_stopping_summarization:</span> <span class="pre">bool</span> <span class="pre">=</span> <span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">length_penalty:</span> <span class="pre">float</span> <span class="pre">=</span> <span class="pre">2.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_beams:</span> <span class="pre">int</span> <span class="pre">=</span> <span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dropout_field_name:</span> <span class="pre">str</span> <span class="pre">=</span> <span class="pre">'cls_dropout'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_trials:</span> <span class="pre">int</span> <span class="pre">=</span> <span class="pre">20</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">random_init_trials:</span> <span class="pre">int</span> <span class="pre">=</span> <span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">trainer_cls_summarization:</span> <span class="pre">~typing.Optional[~typing.Any]</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_cls_summarization:</span> <span class="pre">~typing.Optional[~typing.Any]</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">only_test:</span> <span class="pre">bool</span> <span class="pre">=</span> <span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">test_batch_size:</span> <span class="pre">int</span> <span class="pre">=</span> <span class="pre">32</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">overwrite_training_args:</span> <span class="pre">~typing.Optional[~typing.Dict]</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">save_dir:</span> <span class="pre">str</span> <span class="pre">=</span> <span class="pre">'.'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">push_to_hub:</span> <span class="pre">bool</span> <span class="pre">=</span> <span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">additional_params_tokenizer:</span> <span class="pre">~typing.Optional[~typing.Dict]</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">resume_from_checkpoint:</span> <span class="pre">bool</span> <span class="pre">=</span> <span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">config_problem_type:</span> <span class="pre">~typing.Optional[str]</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">custom_trainer_cls:</span> <span class="pre">~typing.Optional[~typing.Any]</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">do_nothing:</span> <span class="pre">bool</span> <span class="pre">=</span> <span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">custom_params_config_model:</span> <span class="pre">~typing.Optional[~typing.Dict]</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">generation_params:</span> <span class="pre">~typing.Optional[~typing.Dict]</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hf_hub_username:</span> <span class="pre">~typing.Optional[str]</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">custom_results_getter:</span> <span class="pre">~typing.Optional[~typing.Any]</span> <span class="pre">=</span> <span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/nlpboost/model_config.html#ModelConfig"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nlpboost.model_config.ModelConfig" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Configure a model to use inside the AutoTrainer class.</p>
<p>With this we determine every choice related to the model
such as the original name, the name to save the model with, the hyperparameter space, and a long etc.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em>) – Name of the model, either in the HF hub or a path to the local directory where it is stored.</p></li>
<li><p><strong>save_name</strong> (<em>str</em>) – Alias for the model, used for saving it.</p></li>
<li><p><strong>hp_space</strong> (<em>Any</em>) – The hyperparameter space for hyperparameter search with optuna. Must be a function receiving a trial and returning a dictionary with the corresponding suggest_categorical and float fields.</p></li>
<li><p><strong>dropout_vals</strong> (<em>List</em>) – Dropout values to try.</p></li>
<li><p><strong>custom_config_class</strong> (<em>transformers.PretrainedConfig</em>) – Custom configuration for a model. Useful for training ensembles of transformers.</p></li>
<li><p><strong>custom_model_class</strong> (<em>transformers.PreTrainedModel</em>) – Custom model. None by default. Only used for ensemble models and other strange creatures of Nature.</p></li>
<li><p><strong>partial_custom_tok_func_call</strong> (<em>Any</em>) – Partial call for a tokenization function, with all necessary parameters passed to it.</p></li>
<li><p><strong>encoder_name</strong> (<em>str</em>) – Useful for summarization problems, when we want to create an encoder-decoder and want those models to be different.</p></li>
<li><p><strong>decoder_name</strong> (<em>str</em>) – Useful for summarization problems, when we want to create an encoder-decoder and want those models to be different.</p></li>
<li><p><strong>tie_encoder_decoder</strong> (<em>bool</em>) – Useful for summarization problems, when we want to have the weights of the encoder and decoder in an EncoderDecoderModel tied.</p></li>
<li><p><strong>max_length_summary</strong> (<em>int</em>) – Max length of the summaries. Useful for summarization datasets.</p></li>
<li><p><strong>min_length_summary</strong> (<em>int</em>) – Min length of the summaries. Useful for summarization datasets.</p></li>
<li><p><strong>no_repeat_ngram_size</strong> (<em>int</em>) – Number of n-grams to don’t repeat when doing summarization.</p></li>
<li><p><strong>early_stopping_summarization</strong> (<em>bool</em>) – Whether to have early stopping when doing summarization tasks.</p></li>
<li><p><strong>length_penalty</strong> (<em>float</em>) – Length penalty for summarization tasks.</p></li>
<li><p><strong>num_beams</strong> (<em>int</em>) – Number of beams in beam search for summarization tasks.</p></li>
<li><p><strong>dropout_field_name</strong> (<em>str</em>) – Name for the dropout field in the pooler layer.</p></li>
<li><p><strong>n_trials</strong> (<em>int</em>) – Number of trials (trainings) to carry out with this model.</p></li>
<li><p><strong>random_init_trials</strong> (<em>int</em>) – Argument for optuna sampler, to control number of initial trials to run randomly.</p></li>
<li><p><strong>trainer_cls_summarization</strong> (<em>Any</em>) – Class for the trainer. Useful when it is desired to override the default trainer cls for summarization.</p></li>
<li><p><strong>model_cls_summarization</strong> (<em>Any</em>) – Class for the trainer. Useful when it is desired to override the default trainer cls for summarization.</p></li>
<li><p><strong>custom_tokenization_func</strong> (<em>Any</em>) – Custom tokenization function for processing texts. When the user does not want to use the default tokenization function for the task at hand, one can create a custom tokenization function. This function must receive samples from a dataset, a tokenizer and a dataset config.</p></li>
<li><p><strong>only_test</strong> (<em>bool</em>) – Whether to only test, not train (for already trained models).</p></li>
<li><p><strong>test_batch_size</strong> (<em>int</em>) – Batch size for test; only used when doing only testing.</p></li>
<li><p><strong>overwrite_training_args</strong> (<em>Dict</em>) – Arguments to overwrite the default arguments for the trainer, for example to change the optimizer for this concrete model.</p></li>
<li><p><strong>save_dir</strong> (<em>str</em>) – The directory to save the trained model.</p></li>
<li><p><strong>push_to_hub</strong> (<em>bool</em>) – Whether to push the best model to the hub.</p></li>
<li><p><strong>additional_params_tokenizer</strong> (<em>Dict</em>) – Additional arguments to pass to the tokenizer.</p></li>
<li><p><strong>resume_from_checkpoint</strong> (<em>bool</em>) – Whether to resume from checkpoint to continue training.</p></li>
<li><p><strong>config_problem_type</strong> (<em>str</em>) – The type of the problem, for loss fct.</p></li>
<li><p><strong>custom_trainer_cls</strong> (<em>Any</em>) – Custom trainer class to override the current one.</p></li>
<li><p><strong>do_nothing</strong> (<em>bool</em>) – Whether to do nothing or not. If true, will not train nor predict.</p></li>
<li><p><strong>custom_params_config_model</strong> (<em>Dict</em>) – Dictionary with custom parameters for loading AutoConfig.</p></li>
<li><p><strong>generation_params</strong> (<em>Dict</em>) – Parameters for generative tasks, for the generate call.</p></li>
<li><p><strong>hf_hub_username</strong> (<em>str</em>) – Username in HF Hub, to push models to hub.</p></li>
<li><p><strong>custom_results_getter</strong> (<em>Any</em>) – Custom class to get test results after training.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>With the following lines you can create a ModelConfig for bert-base-cased model.</p>
<p>&gt;&gt;&gt;from nlpboost import ModelConfig</p>
<p>&gt;&gt;&gt;from nlpboost.default_param_spaces import hp_space_base</p>
<p>&gt;&gt;&gt;model_config = ModelConfig(name=’bert-base-cased’, save_name=’bert’, hp_space=hp_space_base)</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="nlpboost.model_config.ModelConfig.additional_params_tokenizer">
<span class="sig-name descname"><span class="pre">additional_params_tokenizer</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Dict</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#nlpboost.model_config.ModelConfig.additional_params_tokenizer" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="nlpboost.model_config.ModelConfig.config_problem_type">
<span class="sig-name descname"><span class="pre">config_problem_type</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#nlpboost.model_config.ModelConfig.config_problem_type" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="nlpboost.model_config.ModelConfig.custom_config_class">
<span class="sig-name descname"><span class="pre">custom_config_class</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">PretrainedConfig</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#nlpboost.model_config.ModelConfig.custom_config_class" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="nlpboost.model_config.ModelConfig.custom_model_class">
<span class="sig-name descname"><span class="pre">custom_model_class</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">PreTrainedModel</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#nlpboost.model_config.ModelConfig.custom_model_class" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="nlpboost.model_config.ModelConfig.custom_params_config_model">
<span class="sig-name descname"><span class="pre">custom_params_config_model</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Dict</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#nlpboost.model_config.ModelConfig.custom_params_config_model" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="nlpboost.model_config.ModelConfig.custom_results_getter">
<span class="sig-name descname"><span class="pre">custom_results_getter</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Any</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#nlpboost.model_config.ModelConfig.custom_results_getter" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="nlpboost.model_config.ModelConfig.custom_tokenization_func">
<span class="sig-name descname"><span class="pre">custom_tokenization_func</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Any</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#nlpboost.model_config.ModelConfig.custom_tokenization_func" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="nlpboost.model_config.ModelConfig.custom_trainer_cls">
<span class="sig-name descname"><span class="pre">custom_trainer_cls</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Any</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#nlpboost.model_config.ModelConfig.custom_trainer_cls" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="nlpboost.model_config.ModelConfig.decoder_name">
<span class="sig-name descname"><span class="pre">decoder_name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#nlpboost.model_config.ModelConfig.decoder_name" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="nlpboost.model_config.ModelConfig.do_nothing">
<span class="sig-name descname"><span class="pre">do_nothing</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">bool</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">False</span></em><a class="headerlink" href="#nlpboost.model_config.ModelConfig.do_nothing" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="nlpboost.model_config.ModelConfig.dropout_field_name">
<span class="sig-name descname"><span class="pre">dropout_field_name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'cls_dropout'</span></em><a class="headerlink" href="#nlpboost.model_config.ModelConfig.dropout_field_name" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="nlpboost.model_config.ModelConfig.dropout_vals">
<span class="sig-name descname"><span class="pre">dropout_vals</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">List</span></em><a class="headerlink" href="#nlpboost.model_config.ModelConfig.dropout_vals" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="nlpboost.model_config.ModelConfig.early_stopping_summarization">
<span class="sig-name descname"><span class="pre">early_stopping_summarization</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">bool</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">True</span></em><a class="headerlink" href="#nlpboost.model_config.ModelConfig.early_stopping_summarization" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="nlpboost.model_config.ModelConfig.encoder_name">
<span class="sig-name descname"><span class="pre">encoder_name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#nlpboost.model_config.ModelConfig.encoder_name" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="nlpboost.model_config.ModelConfig.generation_params">
<span class="sig-name descname"><span class="pre">generation_params</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Dict</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#nlpboost.model_config.ModelConfig.generation_params" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="nlpboost.model_config.ModelConfig.hf_hub_username">
<span class="sig-name descname"><span class="pre">hf_hub_username</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#nlpboost.model_config.ModelConfig.hf_hub_username" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="nlpboost.model_config.ModelConfig.hp_space">
<span class="sig-name descname"><span class="pre">hp_space</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Any</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#nlpboost.model_config.ModelConfig.hp_space" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="nlpboost.model_config.ModelConfig.length_penalty">
<span class="sig-name descname"><span class="pre">length_penalty</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">2.0</span></em><a class="headerlink" href="#nlpboost.model_config.ModelConfig.length_penalty" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="nlpboost.model_config.ModelConfig.max_length_summary">
<span class="sig-name descname"><span class="pre">max_length_summary</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">128</span></em><a class="headerlink" href="#nlpboost.model_config.ModelConfig.max_length_summary" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="nlpboost.model_config.ModelConfig.min_length_summary">
<span class="sig-name descname"><span class="pre">min_length_summary</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">10</span></em><a class="headerlink" href="#nlpboost.model_config.ModelConfig.min_length_summary" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="nlpboost.model_config.ModelConfig.model_cls_summarization">
<span class="sig-name descname"><span class="pre">model_cls_summarization</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Any</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#nlpboost.model_config.ModelConfig.model_cls_summarization" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="nlpboost.model_config.ModelConfig.n_trials">
<span class="sig-name descname"><span class="pre">n_trials</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">20</span></em><a class="headerlink" href="#nlpboost.model_config.ModelConfig.n_trials" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="nlpboost.model_config.ModelConfig.name">
<span class="sig-name descname"><span class="pre">name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#nlpboost.model_config.ModelConfig.name" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="nlpboost.model_config.ModelConfig.no_repeat_ngram_size">
<span class="sig-name descname"><span class="pre">no_repeat_ngram_size</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">3</span></em><a class="headerlink" href="#nlpboost.model_config.ModelConfig.no_repeat_ngram_size" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="nlpboost.model_config.ModelConfig.num_beams">
<span class="sig-name descname"><span class="pre">num_beams</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">1</span></em><a class="headerlink" href="#nlpboost.model_config.ModelConfig.num_beams" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="nlpboost.model_config.ModelConfig.only_test">
<span class="sig-name descname"><span class="pre">only_test</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">bool</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">False</span></em><a class="headerlink" href="#nlpboost.model_config.ModelConfig.only_test" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="nlpboost.model_config.ModelConfig.overwrite_training_args">
<span class="sig-name descname"><span class="pre">overwrite_training_args</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Dict</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#nlpboost.model_config.ModelConfig.overwrite_training_args" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="nlpboost.model_config.ModelConfig.partial_custom_tok_func_call">
<span class="sig-name descname"><span class="pre">partial_custom_tok_func_call</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Any</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#nlpboost.model_config.ModelConfig.partial_custom_tok_func_call" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="nlpboost.model_config.ModelConfig.push_to_hub">
<span class="sig-name descname"><span class="pre">push_to_hub</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">bool</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">False</span></em><a class="headerlink" href="#nlpboost.model_config.ModelConfig.push_to_hub" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="nlpboost.model_config.ModelConfig.random_init_trials">
<span class="sig-name descname"><span class="pre">random_init_trials</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">10</span></em><a class="headerlink" href="#nlpboost.model_config.ModelConfig.random_init_trials" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="nlpboost.model_config.ModelConfig.resume_from_checkpoint">
<span class="sig-name descname"><span class="pre">resume_from_checkpoint</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">bool</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">False</span></em><a class="headerlink" href="#nlpboost.model_config.ModelConfig.resume_from_checkpoint" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="nlpboost.model_config.ModelConfig.save_dir">
<span class="sig-name descname"><span class="pre">save_dir</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'.'</span></em><a class="headerlink" href="#nlpboost.model_config.ModelConfig.save_dir" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="nlpboost.model_config.ModelConfig.save_name">
<span class="sig-name descname"><span class="pre">save_name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#nlpboost.model_config.ModelConfig.save_name" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="nlpboost.model_config.ModelConfig.test_batch_size">
<span class="sig-name descname"><span class="pre">test_batch_size</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">32</span></em><a class="headerlink" href="#nlpboost.model_config.ModelConfig.test_batch_size" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="nlpboost.model_config.ModelConfig.tie_encoder_decoder">
<span class="sig-name descname"><span class="pre">tie_encoder_decoder</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">bool</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">True</span></em><a class="headerlink" href="#nlpboost.model_config.ModelConfig.tie_encoder_decoder" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="nlpboost.model_config.ModelConfig.trainer_cls_summarization">
<span class="sig-name descname"><span class="pre">trainer_cls_summarization</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Any</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#nlpboost.model_config.ModelConfig.trainer_cls_summarization" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

</section>
<section id="module-nlpboost.results_getter">
<span id="nlpboost-results-getter-module"></span><h2>nlpboost.results_getter module<a class="headerlink" href="#module-nlpboost.results_getter" title="Permalink to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="nlpboost.results_getter.ResultsGetter">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">nlpboost.results_getter.</span></span><span class="sig-name descname"><span class="pre">ResultsGetter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataset_config</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_config</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">compute_metrics_func</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/nlpboost/results_getter.html#ResultsGetter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nlpboost.results_getter.ResultsGetter" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Retrieve results on the test set for different tasks (seq2seq, different forms of classification, NER, QA…).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dataset_config</strong> (<em>nlpboost.DatasetConfig</em>) – Configuration for the dataset.</p></li>
<li><p><strong>model_config</strong> (<em>nlpboost.ModelConfig</em>) – Configuration for the model.</p></li>
<li><p><strong>compute_metrics_func</strong> (<em>Any</em>) – Function to compute metrics.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="nlpboost.results_getter.ResultsGetter.general_get_test_results">
<span class="sig-name descname"><span class="pre">general_get_test_results</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">test_dataset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">trainer</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">compute_metrics_func</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">additional_metrics</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/nlpboost/results_getter.html#ResultsGetter.general_get_test_results"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nlpboost.results_getter.ResultsGetter.general_get_test_results" title="Permalink to this definition"></a></dt>
<dd><p>Compute metrics in general for every NLU task except for QA.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>test_dataset</strong> (<em>datasets.Dataset</em>) – Dataset  on any task except for QA.</p></li>
<li><p><strong>trainer</strong> (<em>transformers.Trainer</em>) – Trainer trained on a dataset that is not a QA dataset.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>metrics</strong> – Metrics for the test dataset.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="nlpboost.results_getter.ResultsGetter.get_metric_and_formatted_predictions">
<span class="sig-name descname"><span class="pre">get_metric_and_formatted_predictions</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">final_predictions</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">squad_v2</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/nlpboost/results_getter.html#ResultsGetter.get_metric_and_formatted_predictions"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nlpboost.results_getter.ResultsGetter.get_metric_and_formatted_predictions" title="Permalink to this definition"></a></dt>
<dd><p>Get the metric from evaluate and the final predictions formatted.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>final_predictions</strong> (<em>Dict</em>) – Predictions postprocessed.</p></li>
<li><p><strong>squad_v2</strong> (<em>bool</em>) – Whether it is squad_v2 mode or not.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>metric</strong> (<em>evaluate.Metric</em>) – Metric from the evaluate library.</p></li>
<li><p><strong>formatted_predictions</strong> (<em>Dict</em>) – Predictions in the correct format for the metric.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="nlpboost.results_getter.ResultsGetter.get_test_results_qa">
<span class="sig-name descname"><span class="pre">get_test_results_qa</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">test_dataset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">trainer</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">squad_v2</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">additional_metrics</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/nlpboost/results_getter.html#ResultsGetter.get_test_results_qa"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nlpboost.results_getter.ResultsGetter.get_test_results_qa" title="Permalink to this definition"></a></dt>
<dd><p>Compute metrics on test for QA datasets.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>test_dataset</strong> (<em>datasets.Dataset</em>) – QA dataset.</p></li>
<li><p><strong>trainer</strong> (<em>transformers.Trainer</em>) – Trainer trained on QA dataset.</p></li>
<li><p><strong>squad_v2</strong> (<em>bool</em>) – Whether the dataset is in squad v2 format or not.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>metrics</strong> – Metrics for the test dataset.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="nlpboost.results_getter.ResultsGetter.get_test_results_summarization">
<span class="sig-name descname"><span class="pre">get_test_results_summarization</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">test_dataset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">trainer</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">compute_metrics_func</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">additional_metrics</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/nlpboost/results_getter.html#ResultsGetter.get_test_results_summarization"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nlpboost.results_getter.ResultsGetter.get_test_results_summarization" title="Permalink to this definition"></a></dt>
<dd><p>Compute and get the results in test for summarization tasks.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>test_dataset</strong> (<em>datasets.Dataset</em>) – Test dataset.</p></li>
<li><p><strong>trainer</strong> (<em>transformers.Trainer</em>) – HF’s transformers trainer.</p></li>
<li><p><strong>compute_metrics_func</strong> (<em>Any</em>) – Function to compute metrics.</p></li>
<li><p><strong>model_config</strong> (<a class="reference internal" href="#nlpboost.model_config.ModelConfig" title="nlpboost.model_config.ModelConfig"><em>ModelConfig</em></a>) – Configuration for the model.</p></li>
<li><p><strong>additional_metrics</strong> (<em>List</em>) – List with additional metrics to compute.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>metrics</strong> – Dictionary with metrics for the summarization task.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="nlpboost.results_getter.ResultsGetter.postprocess_qa_predictions">
<span class="sig-name descname"><span class="pre">postprocess_qa_predictions</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">examples</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">features</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">raw_predictions</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tokenizer</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_best_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">20</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_answer_length</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">30</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">squad_v2</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_score</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/nlpboost/results_getter.html#ResultsGetter.postprocess_qa_predictions"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nlpboost.results_getter.ResultsGetter.postprocess_qa_predictions" title="Permalink to this definition"></a></dt>
<dd><p>Process raw predictions of a QA model.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>examples</strong> (<em>datasets.Dataset</em>) – Samples from datasets.Dataset.</p></li>
<li><p><strong>features</strong> – Validation features as processed by prepare_validation_features_squad.</p></li>
<li><p><strong>raw_predictions</strong> – Predictions by trainer.</p></li>
<li><p><strong>tokenizer</strong> (<em>tokenizers.Tokenizer</em>) – Instance of hf’s tokenizer.</p></li>
<li><p><strong>n_best_size</strong> (<em>int</em>) – Number of best answers to get (maximum).</p></li>
<li><p><strong>max_answer_length</strong> (<em>int</em>) – Maximum answer length in number of characters. Answer longer than this are not even considered.</p></li>
<li><p><strong>squad_v2</strong> (<em>bool</em>) – Whether the dataset is in squad v2 format or not.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>predictions</strong> – An ordered dict with the predictions formatted so that we can compute metrics easily.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>collections.OrderedDict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="nlpboost.results_getter.ResultsGetter.prepare_validation_features_squad">
<span class="sig-name descname"><span class="pre">prepare_validation_features_squad</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">examples</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tokenizer</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pad_on_right</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/nlpboost/results_getter.html#ResultsGetter.prepare_validation_features_squad"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nlpboost.results_getter.ResultsGetter.prepare_validation_features_squad" title="Permalink to this definition"></a></dt>
<dd><p>Process features for validating on squad-like datasets.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>examples</strong> (<em>datasets.Dataset</em>) – Samples from datasets.Dataset.</p></li>
<li><p><strong>tokenizer</strong> (<em>tokenizers.Tokenizer</em>) – Instance of hf’s tokenizer.</p></li>
<li><p><strong>pad_on_right</strong> (<em>bool</em>) – Whether or not to pad the samples on the right side. True for most models.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Tokenized samples.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>tokenized_examples</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-nlpboost.tokenization_functions">
<span id="nlpboost-tokenization-functions-module"></span><h2>nlpboost.tokenization_functions module<a class="headerlink" href="#module-nlpboost.tokenization_functions" title="Permalink to this heading"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="nlpboost.tokenization_functions.tokenize_classification">
<span class="sig-prename descclassname"><span class="pre">nlpboost.tokenization_functions.</span></span><span class="sig-name descname"><span class="pre">tokenize_classification</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">examples</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tokenizer</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dataset_config</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/nlpboost/tokenization_functions.html#tokenize_classification"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nlpboost.tokenization_functions.tokenize_classification" title="Permalink to this definition"></a></dt>
<dd><p>Tokenize classification datasets.</p>
<p>Given a dataset, a tokenizer and a dataset configuration, returns
the tokenized dataset.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>examples</strong> (<em>datasets.Dataset</em>) – Samples from datasets.Dataset.</p></li>
<li><p><strong>tokenizer</strong> (<em>tokenizers.Tokenizer</em>) – Instance of hf’s tokenizer.</p></li>
<li><p><strong>dataset_config</strong> (<em>benchmarker.DatasetConfig</em>) – Instance of a Dataset Config.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Tokenized samples.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>tokenized</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="nlpboost.tokenization_functions.tokenize_ner">
<span class="sig-prename descclassname"><span class="pre">nlpboost.tokenization_functions.</span></span><span class="sig-name descname"><span class="pre">tokenize_ner</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">examples</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tokenizer</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dataset_config</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/nlpboost/tokenization_functions.html#tokenize_ner"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nlpboost.tokenization_functions.tokenize_ner" title="Permalink to this definition"></a></dt>
<dd><p>Tokenize a dataset or dataset split.</p>
<p>This function is intended to be used inside the map method for the Dataset.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>examples</strong> (<em>datasets.Dataset</em>) – Samples from datasets.Dataset.</p></li>
<li><p><strong>tokenizer</strong> (<em>tokenizers.Tokenizer</em>) – Instance of hf’s tokenizer.</p></li>
<li><p><strong>dataset_config</strong> (<em>benchmarker.DatasetConfig</em>) – Instance of a Dataset Config.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Tokenized samples.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>tokenized</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="nlpboost.tokenization_functions.tokenize_squad">
<span class="sig-prename descclassname"><span class="pre">nlpboost.tokenization_functions.</span></span><span class="sig-name descname"><span class="pre">tokenize_squad</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">examples</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tokenizer</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dataset_config</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pad_on_right</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/nlpboost/tokenization_functions.html#tokenize_squad"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nlpboost.tokenization_functions.tokenize_squad" title="Permalink to this definition"></a></dt>
<dd><p>Tokenize samples of squad-like datasets, on batches.</p>
<p>It differentiates between BPE tokenizers and others
as there are errors in these ones if they are processed in the conventional way.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>examples</strong> (<em>datasets.Dataset</em>) – Samples from datasets.Dataset.</p></li>
<li><p><strong>tokenizer</strong> (<em>tokenizers.Tokenizer</em>) – Instance of hf’s tokenizer.</p></li>
<li><p><strong>pad_on_right</strong> (<em>bool</em>) – Whether or not to pad the samples on the right side. True for most models.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Tokenized samples.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>tokenized_examples</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="nlpboost.tokenization_functions.tokenize_summarization">
<span class="sig-prename descclassname"><span class="pre">nlpboost.tokenization_functions.</span></span><span class="sig-name descname"><span class="pre">tokenize_summarization</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">examples</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tokenizer</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dataset_config</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/nlpboost/tokenization_functions.html#tokenize_summarization"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nlpboost.tokenization_functions.tokenize_summarization" title="Permalink to this definition"></a></dt>
<dd><p>Tokenization function for summarization tasks.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>examples</strong> (<em>datasets.Dataset</em>) – Samples from datasets.Dataset.</p></li>
<li><p><strong>tokenizer</strong> (<em>tokenizers.Tokenizer</em>) – Instance of hf’s tokenizer.</p></li>
<li><p><strong>dataset_config</strong> (<em>benchmarker.DatasetConfig</em>) – Instance of a Dataset Config.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>examples</strong> – Tokenized samples with all necessary fields.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>datasets.Dataset</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-nlpboost.utils">
<span id="nlpboost-utils-module"></span><h2>nlpboost.utils module<a class="headerlink" href="#module-nlpboost.utils" title="Permalink to this heading"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="nlpboost.utils.chunks">
<span class="sig-prename descclassname"><span class="pre">nlpboost.utils.</span></span><span class="sig-name descname"><span class="pre">chunks</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lst</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/nlpboost/utils.html#chunks"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nlpboost.utils.chunks" title="Permalink to this definition"></a></dt>
<dd><p>Split a list into n-sized chunks.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>lst</strong> (<em>List</em>) – List containing any type of elements.</p></li>
<li><p><strong>n</strong> (<em>int</em>) – Size of the chunks</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Generates n-sized chunks.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Chunks</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="nlpboost.utils.dict_to_list">
<span class="sig-prename descclassname"><span class="pre">nlpboost.utils.</span></span><span class="sig-name descname"><span class="pre">dict_to_list</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">example</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nulltoken</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'O'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">entities_field</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'entities'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sentence_field</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'sentence'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/nlpboost/utils.html#dict_to_list"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nlpboost.utils.dict_to_list" title="Permalink to this definition"></a></dt>
<dd><p>Transform a dictionary of entities in the default format.</p>
<p>With start and end characters for each entity, into lists of words and
labels, having one label per word. This is useful for NER tasks
when we usually have this format (ent_label, start_char, end_char)
and we need to have 2 equally-sized lists of words and labels for
passing them to the tokenizer.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>example</strong> – Sample of huggingface Dataset, with an entities field containing
the entities in the format mentioned above.</p></li>
<li><p><strong>nulltoken</strong> (<em>str</em>) – Default token for the “no-entities”. Usually O is used for this,
which is the default value.</p></li>
<li><p><strong>entities_field</strong> (<em>str</em>) – Name of the field which contains entities in (ent_label, start_char, end_char)
format. Usually “entities” is used for this, which is the default value.</p></li>
<li><p><strong>sentence_field</strong> (<em>str</em>) – Name of the field which contains the sentence. Usually “sentence” is used
for this, which is the default value.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Sample of huggingface dataset with 2 new fields: token list and
label list.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>example</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="nlpboost.utils.filter_empty">
<span class="sig-prename descclassname"><span class="pre">nlpboost.utils.</span></span><span class="sig-name descname"><span class="pre">filter_empty</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">string_list</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/nlpboost/utils.html#filter_empty"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nlpboost.utils.filter_empty" title="Permalink to this definition"></a></dt>
<dd><p>Remove empty characters and spaces from list.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>string</strong> (<em>str</em>) – String to filter.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>result</strong> – Whether string is not in the empty characters list.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="nlpboost.utils.get_tags">
<span class="sig-prename descclassname"><span class="pre">nlpboost.utils.</span></span><span class="sig-name descname"><span class="pre">get_tags</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dataset_config</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/nlpboost/utils.html#get_tags"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nlpboost.utils.get_tags" title="Permalink to this definition"></a></dt>
<dd><p>Get the list of unique tags for a dataset.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dataset</strong> (<em>datasets.DatasetDict</em>) – Dataset to tokenize.</p></li>
<li><p><strong>dataset_config</strong> (<em>benchmark.DatasetConfig</em>) – Dataset configuration.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>tags</strong> – List of unique labels for the dataset.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>List</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="nlpboost.utils.get_windowed_match_context_answer">
<span class="sig-prename descclassname"><span class="pre">nlpboost.utils.</span></span><span class="sig-name descname"><span class="pre">get_windowed_match_context_answer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">context</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">answer</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">maxrange</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">100</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/nlpboost/utils.html#get_windowed_match_context_answer"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nlpboost.utils.get_windowed_match_context_answer" title="Permalink to this definition"></a></dt>
<dd><p>Find the best possible match for an answer in the context.</p>
<p>Useful for translated QA datasets, where we don’t have exact translations
of the answers and they do not exist in the context anymore. This could also
happen because of encodings, or other reasons, which cause that the answer
does not start at the string index that appears in the dataset.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>context</strong> (<em>str</em>) – Context where we want to find the answer.</p></li>
<li><p><strong>answer</strong> (<em>str</em>) – Answer that we want to find in the context.</p></li>
<li><p><strong>maxrange</strong> (<em>int</em>) – Maximum size of the windows for matching, in number of words.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>beg</strong> (<em>int</em>) – Beginning character index of the answer.</p></li>
<li><p><strong>end</strong> (<em>int</em>) – Ending character index for tha answer.</p></li>
<li><p><strong>new_answer</strong> (<em>str</em>) – Answer found in the context.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="nlpboost.utils.joinpaths">
<span class="sig-prename descclassname"><span class="pre">nlpboost.utils.</span></span><span class="sig-name descname"><span class="pre">joinpaths</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">paths</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/nlpboost/utils.html#joinpaths"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nlpboost.utils.joinpaths" title="Permalink to this definition"></a></dt>
<dd><p>Join all paths passed as args.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="nlpboost.utils.match_questions_multiple_answers">
<span class="sig-prename descclassname"><span class="pre">nlpboost.utils.</span></span><span class="sig-name descname"><span class="pre">match_questions_multiple_answers</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">formatted_predictions</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">references</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/nlpboost/utils.html#match_questions_multiple_answers"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nlpboost.utils.match_questions_multiple_answers" title="Permalink to this definition"></a></dt>
<dd><p>Check if any of the given answers for a question coincides with our answer.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>formatted_predictions</strong> (<em>List</em>) – List with the predictions.</p></li>
<li><p><strong>references</strong> (<em>List</em>) – All references with real answers for the questions. Possibly more than one
answer per question, which we need to unify previously with the same id.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>final_references</strong> – Final references for the questions, so that if we get right questions with
more than one possible answers, it counts as a right guess.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>List</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-nlpboost">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-nlpboost" title="Permalink to this heading"></a></h2>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="modules.html" class="btn btn-neutral float-left" title="nlpboost" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="nlpboost.augmentation.html" class="btn btn-neutral float-right" title="nlpboost.augmentation package" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, Alejandro Vaca.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>